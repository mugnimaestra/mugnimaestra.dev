---
const experiences = [
  {
    role: 'Software Engineer',
    company: 'PT Rukita Bhinneka Indonesia',
    period: 'Jun 2022 — Present',
    url: 'https://www.rukita.co',
    description: 'Indonesia\'s leading proptech platform with 1,500+ rental properties across 21 cities.',
    highlights: [
      'Enabled Rukita\'s digital platform by leading web (Next.js) and mobile (React Native) platform rebuild, collaborating with engineers, designers, and product managers to deliver both products in 3 months for the company\'s expansion to 21 cities.',
      'Reduced customer service costs by ~$15K+ annually by working with backend and CS teams to architect in-house chat systems replacing Salesforce, implementing WebSocket messaging, ticket management, and CSAT integration.',
      'Accelerated internal operations by leading migration of 15+ admin modules from Retool to custom React dashboard, partnering with the operations team to eliminate vendor dependency while improving system performance.',
      'Ensured platform reliability for 30K+ monthly active users by maintaining 4 React Native applications, driving Node.js 24 migration across 3 codebases, and establishing testing best practices with Jest, Playwright, and Storybook.',
    ],
  },
  {
    role: 'Frontend Engineer',
    company: 'PT Rukita Bhinneka Indonesia',
    period: 'May 2020 — Jun 2022',
    url: 'https://www.rukita.co',
    description: 'Delivered and maintained features on the Rukita website, collaborating closely with product managers, designers, and engineers.',
    highlights: [
      'Optimized code to reduce bundle size and minimize JavaScript downloads, ensuring the website loads quickly and efficiently.',
      'Developed a custom cache handler using Express and Redis to address issues with the existing library for caching SSR responses in Next.js.',
    ],
  },
  {
    role: 'Frontend Developer',
    company: 'PT Dragon Capital Centre (Ciayo Corp)',
    period: 'Oct 2018 — Mar 2020',
    url: 'https://www.ciayo.com',
    description: '',
    highlights: [
      'Contributed to Indonesia\'s first national webcomic platform reaching 30M monthly readers by developing and maintaining ciayo.com and rewards.ciayo.com using React and Next.js, collaborating with design and backend teams.',
      'Enabled platform monetization by integrating Google Publisher Tags and MFun advertising systems, adapting third-party SDKs to React\'s component lifecycle to support revenue model.',
      'Improved user experience by implementing state management with Redux and React Context for authentication flows, personalized content, and conditional UI rendering across the platform.',
    ],
  },
];
---

<section class="experience section" id="experience">
  <div class="container">
    <div class="section-header reveal">
      <div class="section-label"><span class="text-label">Experience</span></div>
      <h2 class="text-heading" style="font-size: clamp(2rem, 4vw, 3rem);">
        Where I've built things
      </h2>
    </div>
    <div class="timeline stagger-children">
      {experiences.map((exp, i) => (
        <div class="timeline-item reveal">
          <div class="timeline-dot-wrap">
            <div class={`timeline-dot ${i === 0 ? 'active' : ''}`}></div>
            {i < experiences.length - 1 && <div class="timeline-line"></div>}
          </div>
          <div class="timeline-content">
            <div class="timeline-header">
              <div>
                <h3 class="text-subheading" style="font-size: 1.35rem;">{exp.role}</h3>
                <a href={exp.url} target="_blank" rel="noopener" class="timeline-company">{exp.company}</a>
              </div>
              <span class="timeline-period">{exp.period}</span>
            </div>
            {exp.description && (
              <p class="timeline-desc">{exp.description}</p>
            )}
            <ul class="timeline-highlights">
              {exp.highlights.map((h) => (
                <li>{h}</li>
              ))}
            </ul>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .timeline { display: flex; flex-direction: column; gap: 0; }
  .timeline-item {
    display: grid;
    grid-template-columns: 32px 1fr;
    gap: var(--space-lg);
  }
  .timeline-dot-wrap {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 6px;
  }
  .timeline-dot {
    width: 14px; height: 14px;
    border-radius: 50%;
    border: 2px solid var(--text-tertiary);
    background: var(--bg-primary);
    flex-shrink: 0;
    position: relative;
    z-index: 2;
  }
  .timeline-dot.active {
    border-color: var(--accent);
    background: var(--accent);
    box-shadow: 0 0 12px var(--accent-glow-strong);
  }
  .timeline-line {
    width: 1px;
    flex: 1;
    background: var(--border-medium);
    margin: 4px 0;
  }
  .timeline-content {
    padding-bottom: var(--space-3xl);
  }
  .timeline-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-md);
    margin-bottom: var(--space-lg);
    flex-wrap: wrap;
  }
  .timeline-desc {
    font-size: 0.9rem;
    color: var(--text-tertiary);
    font-style: italic;
    margin-bottom: var(--space-md);
    line-height: 1.5;
  }
  .timeline-company {
    font-family: var(--font-mono);
    font-size: 0.82rem;
    color: var(--text-secondary);
  }
  .timeline-company:hover { color: var(--accent); }
  .timeline-period {
    font-family: var(--font-mono);
    font-size: 0.75rem;
    color: var(--text-tertiary);
    letter-spacing: 0.03em;
    white-space: nowrap;
    padding: 0.35rem 0.75rem;
    border: 1px solid var(--border-subtle);
    border-radius: var(--radius-full);
  }
  .timeline-highlights {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
  }
  .timeline-highlights li {
    position: relative;
    padding-left: 1.25rem;
    color: var(--text-secondary);
    font-size: 0.95rem;
    line-height: 1.6;
  }
  .timeline-highlights li::before {
    content: '▹';
    position: absolute;
    left: 0;
    color: var(--accent);
    font-size: 0.85rem;
  }

  @media (max-width: 600px) {
    .timeline-header { flex-direction: column; }
    .timeline-period { align-self: flex-start; }
  }
</style>
